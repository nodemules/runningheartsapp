<md-content layout="column">
  <md-card>
    <md-card-title>
      <md-card-title-text>
        <span class="md-headline rhp-headline-center">
            {{pv.player.name}}
            <md-subheader ng-show="pv.player.statusId == 2">(Inactive)</md-subheader>
          </span>
        <span class="md-subhead rhp-headline-center">{{pv.player.isTd ? 'Tournament Director' : ''}}</span>
      </md-card-title-text>
    </md-card-title>
    <md-divider></md-divider>
    <md-card-content>
      <p>Shout Outs: {{pv.player.shoutOuts}}</p>
    </md-card-content>
    <md-divider></md-divider>
    <md-card-actions layout="row" layout-align="end center">
      <md-button class="md-raised" ng-show="players.permissions.EDIT_PLAYER" ui-sref="players.manage({ id: pv.player._id })">
        Edit Player
      </md-button>
      <md-button class="md-secondary md-raised" ng-show="players.permissions.DELETE_PLAYER" ng-click="pv.removePlayer(pv.player)">
        Delete Player
      </md-button>
      <md-button class="md-primary md-raised" ng-click="pv.shoutOut(pv.player._id)">
        <span class="fa fa-bullhorn"></span> Give Shout Out
      </md-button>
    </md-card-actions>
  </md-card>
  <md-card>
    <md-card-title>
      <md-card-title-text>
        <span class="md-headline rhp-headline-center" ng-show="!pv.stats.specificSeason">{{pv.stats.currentSeason ? 'Current Season' : 'All Time'}} Stats</span>
        <span class="md-headline rhp-headline-center" ng-show="pv.stats.specificSeason">Season {{pv.stats.seasonNumber}} Stats</span>
      </md-card-title-text>
    </md-card-title>
    <md-divider></md-divider>
    <md-card-content>
      <md-switch ng-model="pv.stats.currentSeason" ng-show="!pv.stats.specificSeason" ng-change="pv.getPlayerStats(pv.stats.currentSeason)">Show Current Season Stats</md-switch>
      <div style="text-align: center;" ng-show="pv.stats.specificSeason">
        <md-button class="md-raised md-secondary" ng-click="pv.getPlayerStats(true)">Show Current Season Stats</md-button>
      </div>
      <p ng-show="!pv.player.games.length">This player hasn't played any games yet<span ng-show="pv.stats.currentSeason"> this season</span>!</p>
      <div ng-show="pv.player.games.length">
        <p>Total Points: {{pv.player.totalPoints}}</p>
        <p>Total Wins:
          <span>{{pv.player.ranks.firsts}} <i class="fa fa-trophy trophy-gold"></i></span>
          <span>{{pv.player.ranks.seconds}} <i class="fa fa-trophy trophy-silver"></i></span>
          <span>{{pv.player.ranks.thirds}} <i class="fa fa-trophy trophy-bronze"></i></span>
        </p>
        <p ng-show="pv.player.bonusChips != null">Bonus Chips: {{pv.player.bonusChips}}</p>
        <p>Average Rank: {{pv.player.ranks.average | number:0}}</p>
        <p>Best Rank: {{pv.player.ranks.best}}</p>
        <p>Worst Rank: {{pv.player.ranks.worst}}</p>
      </div>
    </md-card-content>
    <md-card-actions></md-card-actions>
  </md-card>
  <md-card ng-show="pv.player.games.length">
    <md-card-title>
      <md-card-title-text>
        <span class="md-headline rhp-headline-center">{{pv.stats.currentSeason ? 'Current Season' : 'All Time'}} Games Played: {{pv.player.games.length}}</span>
      </md-card-title-text>
    </md-card-title>
    <md-card-content>
      <md-button ng-repeat="game in pv.player.games | orderBy : '-gameStartTime' | limitTo: 5" ui-sref="games.view({ id : game._id })">
        {{game.event.venue.name}} -- {{game.gameStartTime | date: 'short'}}
      </md-button>
    </md-card-content>
    <md-card-actions></md-card-actions>
  </md-card>
</md-content>
