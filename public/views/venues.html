<h1>{{ 'Venues' | uppercase }}</h1>
<div layout="column" class="md-inline-form" ng-show="venues.edit || venues.new">
  <md-content>
    <div layout-gt-xs="row">
      <md-input-container class="md-block" flex-gt-xs>
        <label>Name</label>
        <input ng-model="venues.venue.name">
      </md-input-container>
      <md-input-container class="md-block" flex-gt-xs>
        <label>Day</label>
        <md-select ng-model="venues.venue.day">
          <md-option ng-value="day" ng-repeat="day in venues.days">{{day}}</md-option>
        </md-select>
      </md-input-container>
    </div>
    <div layout-gt-xs="row">
      <md-input-container class="md-block" flex-gt-xs>
        <label>Tournament Director</label>
        <md-select ng-model="venues.venue.td" ng-model-option="{trackBy: 'venues.venue.td._id' }">
          <md-option ng-value="td" ng-repeat="td in venues.directors track by td._id">{{td.name}}</md-option>
        </md-select>
      </md-input-container>
    </div>
    <div layout="row" layout-align="end">
      <md-button class="md-raised md-default" ng-click="venues.getVenues()" ng-show="venues.edit || venues.new">Close</md-button>
      <md-button class="md-raised md-default" ng-click="venues.resetVenue()" ng-show="venues.new">Reset</md-button>
      <md-button class="md-raised md-primary" ng-click="venues.save()">Save</md-button>
    </div>
  </md-content>
</div>
<div layout="column" ng-show="!venues.edit && !venues.new">
  <md-content layout="row">
    <md-button class="md-raised md-primary" ng-click="venues.newVenue()">New Venue</md-button>
    <div layout="row" layout-align="end" flex>
      <md-button class="md-raised md-warn" ng-click="venues.getVenues()">Refresh Venues</md-button>
    </div>
  </md-content>
  <md-content layout="column">
    <md-list ng-repeat="venue in venues.venues" layout="column">
      <md-list-item class="md-3-line" ng-click="venues.setVenue(venue)">
        <div class="md-list-item-text">
          <h3>{{venue.name}}</h3>
          <p>{{venue.day}}</p>
          <p>{{venue.td.name}}</p>
        </div>
        <md-button class="md-secondary" ng-click="venues.removeVenue(venue)">
          <md-icon md-font-set="material-icons">clear</md-icon>
        </md-button>
      </md-list-item>
    </md-list>
  </md-content>
</div>